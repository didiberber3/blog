# 数组

> 数组可以存放**多个**同一类型的数据。数组也是一种数据类型，是引用类型。
> 即:**数**据一**组**







```java
public class Main {
    public static void main(String[] args) {
        System.out.println();

        double[] hens = { 8, 3.6, 15, 7, 41 }; // 定义一个数组，用于存储鸡的重量
        double totalWeight = 0;

        // 遍历数组
        // 通过hens[]下标获取数组元素
        // 下标是从0开始的，所以下标是0到5
        // 第2个元素就是hens[1]，以此类推

        // 通过for循环的访问 数组的 元素/值
        // 使用变量 totalWeight 将各个元素累积到变量中
        for (int i = 0; i < 6; i++) {
            totalWeight += hens[i]; // 将各个元素累积
        }

        // 输出总体重和平均体重
        System.out.println("总体重=" + totalWeight);
        // hens.length 数组长度
        System.out.println("平均体重=" + totalWeight / hens.length);
    }
}

```





## 使用（3种）





```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        System.out.println();
        // Method1:直接分配内存空间
        double scores[] = new double[5];

        // Method2:先声明 后分配内存空间
        // double scores[] ; //声明数组
        // scores = new double[5]; //分配内存空间
        // Method3:静态数组
        // double scores[] = {1,2,3,4,5};

        Scanner score = new Scanner(System.in);
        for (int i = 0; i < scores.length; i++) {
            System.out.println("Enter score " + (i + 1) + ": ");
            scores[i] = score.nextDouble();
        }
        // 输出 遍历数组
        System.out.println("The scores are:");
        for (int i = 0; i < scores.length; i++) {
            System.out.println(scores[i]);
        }
    }
}

/*
 * Enter score 1:
 * 1
 * Enter score 2:
 * 3
 * Enter score 3:
 * 2
 * Enter score 4:
 * 5
 * Enter score 5:
 * 1
 * The scores are:
 * 1.0
 * 3.0
 * 2.0
 * 5.0
 * 1.0
 */
```





## 细节

1. 数组是多个相同类型数据的组合，实现对这些数据的统一管理，不能兼容的数据类型会报错
2. 数字中的元素可以是任何数据类型，包括基本类型和引用类型，但是不能混用。
3. 数组创建后，如果没有赋值，有默认值，一般数据类型为0
   1. `boolean false`，`String null`
4. 数组的下标是从0开始
5. 数组下标必须在指定范围内使用，否则报错：`下标越界异常`
   1. `int[5]`,有效下标为0-4
   2. 即数组下标 最小0 最大 数组-1
6. 数组属于引用类型，数组型数据是**对象(object)**



## 数组应用案例



### 创建char类型的26个元素的数组，分别放置'A'-'Z'使用for循环访问



```java

public class Main {
    public static void main(String[] args) {

        // 声明变量 变量名称= 新建对象 26个char
        char[] chars = new char[26];

        for (int i = 0; i < chars.length; i++) {
            chars[i] = (char) ('A' + i); // 数据类型不同需要强制转换
            System.out.println(chars[i]);

        }
    }
}

```



### 求出一个数组`int[]`的最大值{4,-1,9,10,23}，并得到对应下标



```java


public class Main {
    public static void main(String[] args) {

        System.out.println(" ");
        int[] arr = new int[5];
        arr[0] = 1;
        arr[1] = 5;
        arr[2] = 3;
        arr[3] = 486;
        arr[4] = 58;
        // 思路 从小标1开始遍历数组，如果max<arr.length-1，max=当前元素下标
        // 当我们遍历数组时，max就是真正的最大值
        int max = arr[0];
        int maxIndex = 0;
        for (int i = 1; i < arr.length; i++) {
            if (max < arr[i]) {
                max = arr[i];
                maxIndex = i;
            }
        }
        System.out.println(max);
        System.out.println(maxIndex);
        /*
         * 486
         * 3
         */
    }
}

```



## 值传递和引用传递

```java

public class Main {
    public static void main(String[] args) {

        System.out.println(" ");

        int[] arr1 = new int[5];

        arr1[0] = 1;
        arr1[1] = 5;
        arr1[2] = 3;
        arr1[3] = 486;
        arr1[4] = 58;

        int[] arr2 = new int[5];

        arr2[2] = 413;

        System.out.println("arr1[2] = " + arr1[2]);
        System.out.println("arr2[2] = " + arr2[2]);
        /*
         * arr1[2] = 3
         * arr2[2] = 413
         */
    }
}

```





## 拷贝



```java


public class Main {
    public static void main(String[] args) {

        System.out.println(" ");

        int[] arr1 = new int[5];

        arr1[0] = 10;
        arr1[1] = 20;
        arr1[2] = 30;
        int[] arr2 = new int[5];

        for (int i = 0; i < arr1.length; i++) {
            arr2[i] = arr1[i];
        }

        System.out.println("arr1[2] = " + arr1[2]);
        System.out.println("arr2[2] = " + arr2[2]);
    }
}

```





## 反转







### 找规律



```java

public class Main {
    public static void main(String[] args) {

        System.out.println(" ");

        // 数组反转算法实现
        // 算法思路：使用双指针法，从数组两端向中间交换元素
        int[] arr = { 1, 2, 3, 4, 5 }; // 初始化待反转的数组
        int temp = 0; // 临时变量，用于交换过程中存储元素值

        System.out.println("反转后：");

        // 核心算法：只需遍历数组的前半部分
        // 循环条件：i < arr.length / 2 确保只交换一半，避免重复交换
        for (int i = 0; i < arr.length / 2; i++) {
            // 三步交换法：
            // 1. 将左侧元素 arr[i] 暂存到临时变量
            temp = arr[i];

            // 2. 将右侧对应位置的元素 arr[arr.length - 1 - i] 赋值给左侧
            // arr.length - 1 - i 计算出与 i 对称的右侧索引位置
            arr[i] = arr[arr.length - 1 - i];

            // 3. 将临时变量中的原左侧元素赋值给右侧位置
            arr[arr.length - 1 - i] = temp;
        }

        // 输出反转后的数组结果
        for (int i = 0; i < arr.length; i++) {
            System.out.print(arr[i] + "\t"); // 使用制表符分隔输出
        }

        System.out.println(" ");
    }
}

```

其内存分析流程图

```java
内存分析流程图
开始
  ↓
初始化数组 arr = {1, 2, 3, 4, 5}
初始化临时变量 temp = 0
  ↓
设置循环变量 i = 0
  ↓
判断: i < arr.length/2 ?
  ↓ (是)
┌─────────────────────────────────┐
│ 内存交换过程 (i = 当前索引)      │
│                                │
│ 步骤1: temp = arr[i]           │
│ 内存状态: temp 保存左侧元素     │
│                                │
│ 步骤2: arr[i] = arr[length-1-i] │
│ 内存状态: 右侧元素覆盖左侧      │
│                                │
│ 步骤3: arr[length-1-i] = temp   │
│ 内存状态: 左侧元素移到右侧      │
└─────────────────────────────────┘
  ↓
i++
  ↓
判断: i < arr.length/2 ?
  ↓ (否)
输出反转后的数组
  ↓
结束
内存状态变化示例
初始状态:

索引: 0  1  2  3  4
数组: 1  2  3  4  5
     ↑           ↑
    i=0      length-1-i=4
第一次交换 (i=0):

temp = 1
arr[0] = arr[4] = 5
arr[4] = temp = 1
结果: 5  2  3  4  1
第二次交换 (i=1):

temp = 2
arr[1] = arr[3] = 4
arr[3] = temp = 2
结果: 5  4  3  2  1
```





### 逆序赋值 





```java


public class Main {
    public static void main(String[] args) {

        System.out.println(" ");

        // 数组反转算法实现 - 复制法
        // 算法思路：创建新数组，从原数组末尾开始复制到新数组开头

        // 【内存阶段1】初始化原数组
        int[] arr1 = { 1, 2, 3, 4, 5 }; // 原数组在堆内存中分配空间
        // 内存状态: arr1 -> [1, 2, 3, 4, 5] (堆地址: 0x1000)

        // 【内存阶段2】创建新数组
        int[] arr2 = new int[arr1.length]; // 新数组在堆内存中分配相同大小空间
        // 内存状态: arr2 -> [0, 0, 0, 0, 0] (堆地址: 0x2000)

        // 【内存阶段3】反向复制过程
        // 双指针遍历: i从末尾递减，j从开头递增
        for (int i = arr1.length - 1, j = 0; i >= 0; i--, j++) {
            arr2[j] = arr1[i]; // 从arr1[i]读取值，写入arr2[j]
            // 内存操作: 读取堆内存0x1000+i*4，写入堆内存0x2000+j*4
        }
        // 循环结束后: arr2 -> [5, 4, 3, 2, 1]

        // 【内存阶段4】引用重新赋值
        arr1 = arr2; // arr1引用指向新数组，原数组成为垃圾回收候选
        // 内存状态: arr1 -> 0x2000, 原0x1000地址的数组等待GC回收

        // 【内存阶段5】输出结果
        for (int i = 0; i < arr1.length; i++) {
            System.out.print(arr1[i] + " "); // 从新数组读取并输出
        }
        System.out.println(" ");
    }
}

```





```java
开始
  ↓
【内存阶段1】初始化原数组
┌─────────────────────────────┐
│ 堆内存分配                   │
│ arr1 -> [1,2,3,4,5]         │
│ 地址: 0x1000               │
│ 大小: 5 * 4 = 20 bytes     │
└─────────────────────────────┘
  ↓
【内存阶段2】创建新数组
┌─────────────────────────────┐
│ 堆内存再次分配               │
│ arr2 -> [0,0,0,0,0]         │
│ 地址: 0x2000               │
│ 大小: 5 * 4 = 20 bytes     │
└─────────────────────────────┘
  ↓
【内存阶段3】反向复制循环
┌─────────────────────────────┐
│ 双指针遍历:                 │
│ i = 4, j = 0: arr2[0] = arr1[4] = 5 │
│ i = 3, j = 1: arr2[1] = arr1[3] = 4 │
│ i = 2, j = 2: arr2[2] = arr1[2] = 3 │
│ i = 1, j = 3: arr2[3] = arr1[1] = 2 │
│ i = 0, j = 4: arr2[4] = arr1[0] = 1 │
│                             │
│ 内存操作: 从0x1000读取       │
│          写入0x2000        │
└─────────────────────────────┘
  ↓
【内存阶段4】引用重新赋值
┌─────────────────────────────┐
│ arr1 = arr2                 │
│ arr1引用从0x1000 -> 0x2000  │
│ 原0x1000数组标记为GC回收    │
└─────────────────────────────┘
  ↓
【内存阶段5】输出结果
输出: 5 4 3 2 1
  ↓
结束
```



## 动态添加



```java

//定义原数组
//动态添加数组元素
//向用户请求Scanner输入元素，添加到数组中，更新数组
//当用户输入n时，结束添加，输出数组
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // 初始化数组
        int[] arr = { 1, 5, 3, 7 };

        do {
            // 创建新数组，长度为原数组长度+1
            int[] arrNew = new int[arr.length + 1];
            // 遍历arr，将元素复制到arrNew
            for (int i = 0; i < arr.length; i++) {
                System.out.print(arr[i] + " ");
                arrNew[i] = arr[i];
            }
            System.out.println("\n输入你想要添加的元素:");
            int addNum = scanner.nextInt();
            // 将addNum添加到arrNew的末尾
            arrNew[arrNew.length - 1] = addNum;
            arr = arrNew;
            // 输出arr
            for (int i = 0; i < arr.length; i++) {
                System.out.print(arr[i] + " ");
            }
            System.out.println("\n输入n结束添加");
            String end = scanner.next();
            // 当用户输入n时，结束添加
            if (end.equals("n")) {
                break;
            }
            System.out.println();
        } while (true);

    }

}

```





## 动态减少



```java

//定义原数组
//动态删除数组元素
//删除数组的最后一个元素，更新数组
//当数组只剩一个元素时，结束删除；当用户输入n时，结束删除
import java.util.Scanner;

public class MainNew {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // 初始化数组
        int[] arr = { 1, 5, 3, 7 };

        do {
            // 检查数组是否只剩一个元素
            if (arr.length == 1) {
                System.out.println("数组只剩最后一个元素，不能继续删除");
                break;
            }

            // 显示当前数组
            System.out.print("当前数组: ");
            for (int i = 0; i < arr.length; i++) {
                System.out.print(arr[i] + " ");
            }
            System.out.println();

            // 创建新数组，长度为原数组长度-1（删除最后一个元素）
            int[] arrNew = new int[arr.length - 1];

            // 将除最后一个元素外的所有元素复制到新数组
            for (int i = 0; i < arr.length - 1; i++) {
                arrNew[i] = arr[i];
            }

            // 更新数组引用
            arr = arrNew;

            // 输出删除后的数组
            System.out.print("删除最后一个元素后的数组: ");
            for (int i = 0; i < arr.length; i++) {
                System.out.print(arr[i] + " ");
            }
            System.out.println();

            // 询问是否继续删除
            System.out.println("输入n结束删除，输入其他任意字符继续删除:");
            String end = scanner.next();

            // 输入n时，结束删除
            if (end.equals("n")) {
                break;
            }

            System.out.println();
        } while (true);

        scanner.close();
    }
}

```





## 排序







### 冒泡



冒泡本质上是挨个比较，比较出结果进行冒泡



冒泡的执行流程：

1. 

```java
public class MainNew {
    public static void main(String[] args) {

        int[] arr = { 24, 69, 80, 57, 13 };// 待排序的数组
        int temp = 0; // 临时变量

        // Bubble sort: outer loop controls number of passes
        for (int i = 0; i < arr.length - 1; i++) {
            // Inner loop for adjacent element comparison and swapping
            for (int j = 0; j < arr.length - 1 - i; j++) {
                // 如果前面的数>后面的数，就交换
                if (arr[j] > arr[j + 1]) {
                    temp = arr[j];// 临时变量用于存储前面的数
                    arr[j] = arr[j + 1];// 将后面的数赋值给前面的数
                    arr[j + 1] = temp;// 将前面的数赋值给后面的数
                }
            }
        }
        System.out.println("Sorted array:");
        for (int i = 0; i < arr.length; i++) {
            System.out.print(arr[i] + " ");
        }

    }
}

```











## 查找



```java
import java.util.Scanner;

public class MainNew {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        // 顺序查找
        int[] arr = { 24, 69, 80, 57, 13 };
        int index = -1;
        System.out.println("请输入要查找的数:");
        int key = scanner.nextInt();
        for (int i = 0; i < arr.length; i++) {
            if (arr[i] == key) {
                System.out.println("找到key");
                System.out.println("key的下标为:" + i);
                index = i;
                break;
            }
        }
        if (index == -1) {
            System.out.println("未找到key");
        }
    }
}

```





 ## 二维数组





```java


public class MainNew {
    public static void main(String[] args) {
        // 顺序查找
        int[][] arr = { { 0, 0, 0, 0, 0, 0 }, { 0, 0, 0, 1, 0, 0 }, { 0, 0, 2, 0, 3, 0 }, { 0, 0, 0, 0, 0, 0 } };

        for (int i = 0; i < arr.length; i++) {
            for (int j = 0; j < arr[i].length; j++) {
                System.out.print(arr[i][j] + " ");
            }
            System.out.println();
        }
    }
}

```





## 三维数组





```java


public class MainNew {
    public static void main(String[] args) {
        // 顺序查找
        int[][][] arr = { { { 0, 0, 0, 0, 0, 0 }, { 0, 0, 0, 1, 0, 0 }, { 0, 0, 2, 0, 3, 0 }, { 0, 0, 0, 0, 0, 0 } },
                { { 0, 0, 0, 0, 0, 0 }, { 0, 0, 0, 2, 0, 0 }, { 0, 0, 2, 0, 3, 0 }, { 0, 0, 0, 0, 0, 0 } },
                { { 0, 0, 0, 0, 0, 0 }, { 0, 0, 0, 3, 0, 0 }, { 0, 0, 2, 0, 3, 0 }, { 0, 0, 0, 0, 0, 0 } } };

        for (int i = 0; i < arr.length; i++) {
            for (int j = 0; j < arr[i].length; j++) {
                for (int k = 0; k < arr[i][j].length; k++) {
                    System.out.print(arr[i][j][k] + " ");
                }
                System.out.println();
            }
            System.out.println();
        }
    }
}

```





### 三维数组的使用



```java


public class MainNew {
    public static void main(String[] args) {
        // 顺序查找
        // 创建一个二维数组，二维数组里的一维数组的长度为上一个一维数组长度+1，用for循环实现
        int[][] arr = new int[4][];
        // 初始化二维数组
        for (int i = 0; i < arr.length; i++) {
            arr[i] = new int[i + 1];

            for (int j = 0; j < arr[i].length; j++) {
                arr[i][j] = i + 1;
            }
        }

        // 打印二维数组
        for (int i = 0; i < arr.length; i++) {
            for (int j = 0; j < arr[i].length; j++) {
                System.out.print(arr[i][j] + " ");
            }
            System.out.println();
        }
    }
}
x
```





# 例



## 升序数组插入一个元素，该数组的顺序依然是升序



```java


public class MainNew {
    public static void main(String[] args) {

        int[] arr = { 10, 24, 36, 47, 51 }; // 创建数组

        int insertNum = 30;
        int index = -1;

        // 遍历 arr数组， 如果发现 insertNum <=arr[i] , 说明i就是要插入的位置
        // 使用index保留 index=i
        // 遍历完成仍然没有发现insertNum <=arr[i],则说明 index= arr.length
        for (int i = 0; i < arr.length; i++) {
            if (insertNum <= arr[i]) {
                index = i;
                break;
            }
        }

        if (index == -1) { // 说明还没有找到位置，应该插入到末尾
            index = arr.length;
        }

        System.out.println("应该添加到位置：" + index);
        // 接下来完成扩容
        int[] arrNew = new int[arr.length + 1]; // 创建新数组，长度为 arr.length+1
        // 将arr的元素拷贝到arrNew ，并且在index位置插入新元素

        for (int i = 0, j = 0; i < arrNew.length; i++) {
            if (i == index) {
                // 在插入位置放入新元素
                arrNew[i] = insertNum;
            } else {
                // 复制原数组元素
                arrNew[i] = arr[j];
                j++; // 只有复制原数组元素时才递增j
            }
        }
        arr = arrNew;

        System.out.println("插入后，arr的情况");
        for (int i = 0; i < arr.length; i++) {
            System.out.print(arr[i] + " ");
        }
    }
}

```





## 随机生成10个整数，1-100的范围保存到数组，倒序打印以及求平均值，求最大值和最大值的下标，并查找里面是否有8





```java


public class MainNew {
    public static void main(String[] args) {
        // 生成一百个随机数的数组
        int[] arr = new int[100];

        for (int i = 0; i < arr.length; i++) {
            arr[i] = (int) (Math.random() * 100); // 生成0-99的随机数
        }

        for (int i = arr.length - 1; i >= 0; i--) {
            System.out.print(arr[i] + " ");
        }
        System.out.println(); // 换行

        // 查找指定数字
        int findNum = 50; // 定义要查找的数字
        int index = -1; // 初始化索引为-1

        // 在数组中查找
        for (int i = 0; i < arr.length; i++) {
            if (arr[i] == findNum) {
                index = i;
                break;
            }
        }

        // 根据index判断是否找到
        if (index == -1) {
            System.out.println("没有找到数 " + findNum);
        } else {
            System.out.println("有这个数 下标为 " + index);
        }

    }
}
```



