---
title: JavaScript 变量详解
date: 2024-02-01
author: Didiberber
tags: JavaScript, 基础, 变量
---

# JavaScript 变量详解

变量是编程中最基本的概念之一。在 JavaScript 中，变量用来存储数据值，这些值可以在程序执行过程中被读取和修改。

## 变量声明

JavaScript 提供了三种声明变量的方式：

### 1. var 声明

```javascript
var name = "张三";
var age = 25;
var isStudent = true;
```

`var` 是 ES5 及之前版本的变量声明方式，具有以下特点：
- 函数作用域
- 可以重复声明
- 存在变量提升

### 2. let 声明

```javascript
let name = "李四";
let age = 30;
let isTeacher = false;
```

`let` 是 ES6 引入的变量声明方式：
- 块级作用域
- 不能重复声明
- 存在暂时性死区

### 3. const 声明

```javascript
const PI = 3.14159;
const COMPANY_NAME = "科技有限公司";
const CONFIG = {
  apiUrl: "https://api.example.com",
  timeout: 5000
};
```

`const` 用于声明常量：
- 块级作用域
- 必须在声明时初始化
- 不能重新赋值（但对象内容可以修改）

## 数据类型

JavaScript 变量可以存储不同类型的数据：

### 原始类型

#### 1. 数字 (Number)
```javascript
let integer = 42;
let decimal = 3.14;
let negative = -10;
let scientific = 2.5e6; // 2500000
```

#### 2. 字符串 (String)
```javascript
let singleQuotes = '单引号字符串';
let doubleQuotes = "双引号字符串";
let templateLiteral = `模板字符串，年龄：${age}`;
```

#### 3. 布尔值 (Boolean)
```javascript
let isTrue = true;
let isFalse = false;
let isActive = Boolean(1); // true
```

#### 4. 未定义 (undefined)
```javascript
let uninitialized;
console.log(uninitialized); // undefined
```

#### 5. 空值 (null)
```javascript
let emptyValue = null;
```

#### 6. 符号 (Symbol) - ES6
```javascript
let sym1 = Symbol('description');
let sym2 = Symbol('description');
console.log(sym1 === sym2); // false
```

#### 7. 大整数 (BigInt) - ES2020
```javascript
let bigNumber = 1234567890123456789012345678901234567890n;
let anotherBig = BigInt("9007199254740991");
```

### 引用类型

#### 1. 对象 (Object)
```javascript
let person = {
  name: "王五",
  age: 28,
  city: "北京"
};

let colors = ["红色", "绿色", "蓝色"];

let today = new Date();
```

## 变量命名规则

### 命名规范
1. 只能包含字母、数字、下划线和美元符号
2. 不能以数字开头
3. 区分大小写
4. 不能使用保留字

### 命名约定
```javascript
// 驼峰命名法（推荐）
let firstName = "张";
let lastName = "三";
let userAge = 25;

// 常量使用大写字母和下划线
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = "https://api.example.com";

// 私有变量使用下划线前缀
let _privateVariable = "私有数据";
```

## 作用域

### 全局作用域
```javascript
var globalVar = "全局变量";
let globalLet = "全局 let";
const GLOBAL_CONST = "全局常量";

function showGlobals() {
  console.log(globalVar);    // 可访问
  console.log(globalLet);    // 可访问
  console.log(GLOBAL_CONST); // 可访问
}
```

### 函数作用域
```javascript
function functionScope() {
  var functionVar = "函数变量";
  let functionLet = "函数 let";
  const FUNCTION_CONST = "函数常量";
  
  console.log(functionVar);    // 可访问
  console.log(functionLet);    // 可访问
  console.log(FUNCTION_CONST); // 可访问
}

// console.log(functionVar); // 错误：未定义
```

### 块级作用域
```javascript
if (true) {
  var blockVar = "块变量";
  let blockLet = "块 let";
  const BLOCK_CONST = "块常量";
}

console.log(blockVar);    // 可访问（var 没有块级作用域）
// console.log(blockLet);    // 错误：未定义
// console.log(BLOCK_CONST); // 错误：未定义
```

## 变量提升

### var 提升
```javascript
console.log(hoistedVar); // undefined（不是错误）
var hoistedVar = "提升的变量";

// 等价于：
var hoistedVar;
console.log(hoistedVar); // undefined
hoistedVar = "提升的变量";
```

### let/const 暂时性死区
```javascript
// console.log(hoistedLet); // 错误：不能在初始化前访问
let hoistedLet = "let 变量";

// console.log(hoistedConst); // 错误：不能在初始化前访问
const hoistedConst = "const 变量";
```

## 最佳实践

### 1. 优先使用 const
```javascript
// 好的做法
const user = { name: "张三", age: 25 };
const numbers = [1, 2, 3, 4, 5];

// 只有在需要重新赋值时才使用 let
let counter = 0;
counter++;
```

### 2. 避免使用 var
```javascript
// 避免
var oldStyle = "旧式声明";

// 推荐
let modernStyle = "现代声明";
const CONSTANT_VALUE = "常量值";
```

### 3. 有意义的变量名
```javascript
// 不好的命名
let a = 25;
let x = "张三";

// 好的命名
let userAge = 25;
let userName = "张三";
```

### 4. 初始化变量
```javascript
// 好的做法
let count = 0;
let items = [];
let user = null;

// 避免
let uninitialized; // undefined
```

## 类型检查

### typeof 操作符
```javascript
console.log(typeof 42);          // "number"
console.log(typeof "hello");     // "string"
console.log(typeof true);        // "boolean"
console.log(typeof undefined);   // "undefined"
console.log(typeof null);        // "object" (这是一个已知的 bug)
console.log(typeof {});          // "object"
console.log(typeof []);          // "object"
console.log(typeof function(){}); // "function"
```

### 更精确的类型检查
```javascript
function getType(value) {
  return Object.prototype.toString.call(value).slice(8, -1);
}

console.log(getType([]));        // "Array"
console.log(getType({}));        // "Object"
console.log(getType(null));      // "Null"
console.log(getType(new Date())); // "Date"
```

## 总结

变量是 JavaScript 编程的基础，理解不同声明方式的特点和作用域规则对于编写高质量的代码至关重要。现代 JavaScript 开发中，建议：

1. 优先使用 `const`，需要重新赋值时使用 `let`
2. 避免使用 `var`
3. 使用有意义的变量名
4. 理解作用域和变量提升的概念
5. 适当进行类型检查

---

*掌握变量的正确使用是成为优秀 JavaScript 开发者的第一步。*
