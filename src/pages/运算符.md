## 运算符

### 算术运算符

![image-20250829231917711](D:\Typora\TyporaPics\image-20250829231917711.png)

```java
public class Main {

    public static void main(String[] args) {
        // double 的除法会保留小数
        System.out.println("10/4");
        double c1,c2 ;
        c1 = 10 / 4 ; // int除法，结果2，再赋给double是2.0
        System.out.println(c1);
        c2 = (double)10 / 4 ; // 强转得到2.5
        System.out.println(c2);

        System.out.println(10%3);   // 1
        System.out.println(-10%3);  // -1 （符号与被除数相同）
        System.out.println(10%-3);  // 1
        System.out.println(-10%-3); // -1

        // 自增自减
        int i = 10 ;
        ++i; // 先加后用
        System.out.println("i="+i); // 11
        int j = 20 ;
        int k=j++; // 先用后加
        System.out.println("k="+k); // 20
        System.out.println("j="+j); // 21

        int i1 = 10 ;
        int i2 = 20 ;
        int i3 = i1++;
        System.out.println("i="+i);  
        System.out.println("i2="+i2);
        i3 = --i2;
        System.out.println("i3="+i3);
        System.out.println("i2="+i2);
    }
}
```

---

### 关系运算符

- 结果均为 boolean 型
- 常用于 if 条件或循环条件
- `==` 与 `=` 不同，注意区分

```java
public class Main {
    public static void main(String[] args) {
        int a = 9 ;
        int b = 8 ;
        System.out.println(a>b);  // true
        System.out.println(a>=b); // true
        System.out.println(a<=b); // false
        System.out.println(a<b);  // false
        System.out.println(a==b); // false
        System.out.println(a!=b); // true
        boolean flag = a > b;
        System.out.println(flag); // true
    }
}
```

---

### 逻辑运算符

- `&` 逻辑与（不短路）
- `&&` 短路与
- `|` 逻辑或（不短路）
- `||` 短路或
- `^` 逻辑异或
- `!` 逻辑非

```java
public class Main {
    public static void main(String[] args) {
        int age = 50 ;
        if(age > 20 && age < 90){
            System.out.println("age 的值为：" + age);
        }
        if(age > 20 & age < 90){
            System.out.println("age 的值为：" + age);
        }

        int c = 4;
        int d = 9;
        if(c < 1 && ++d < 50) { // 短路与：前假后不判断
        }
        System.out.println("c 的值为：" + c);
        System.out.println("d 的值为：" + d);

        int e = 4;
        int f = 9;
        if(e < 1 || ++f < 50) { // 短路或：前假，后为真
            System.out.println("e 的值为：" + e);
        }
        System.out.println("e 的值为：" + e);
        System.out.println("f 的值为：" + f);

        int g = 4;
        if(!(g < 1)) { // 逻辑非
            System.out.println("g 的值为：" + g);
        }
        System.out.println("g 的值为：" + g);

        int h = 4;
        int i = 9;
        if(h < 1 ^ ++i < 50) { // 逻辑异或：仅一个为真
            System.out.println("h 的值为：" + h);
        }
        System.out.println("h 的值为：" + h);
        System.out.println("i 的值为：" + i);
    }
}
```

---

### 赋值与三元运算符

```java
public class Main {
    public static void main(String[] args) {
        // 赋值运算符
        int n1= 10 , n2 = 4;
        n1 += 2; // 12
        System.out.println(n1);
        n2 /= 2; // 2
        System.out.println(n2);

        // 复合赋值会进行自动类型转换
        byte b = 1;
        b += 2; // 等价于 b = (byte)(b + 2);
        System.out.println(b); // 3
        b++; 
        System.out.println(b); // 4

        // 三元运算符
        int a = 10;
        int b1 = 99;
        int c = a > b1 ? a : b1;
        System.out.println(c); // 99
    }
}
```

---

### 运算符优先级与示例

```java
public class Main {
    public static void main(String[] args) {
        int a=3;
        int b=8;
        int c = (int) (a > b ? 1.1 : 2.2); // 强制转换
        System.out.println(c); // 2

        if (a > b) {
            System.out.println(100);
        } else {
            System.out.println(200);
        }

        int d = 3;
        int e = 8;
        int f = d > e ? 100 : 200;
        System.out.println(f); // 200

        // 三个数的最大值（两步 + 一步）
        int num1 = 10;
        int num2 = 20;
        int num3 = 30;
        int max1 = num1 > num2 ? num1 : num2;
        int max2 = max1 > num3 ? max1 : num3;
        System.out.println(max2); // 30

        int max = (num1 > num2 ? num1 : num2) > num3 
                ? (num1 > num2 ? num1 : num2) : num3;
        System.out.println(max); // 30
    }
}
```
